<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        let p1 = function () {
            return new Promise((resolve, rejct) => {
                setTimeout(() => {
                    resolve('你好')
                }, 1000);
            })
        }

        let p2 = function () {
            return new Promise((resolve, rejct) => {
                setTimeout(() => {
                    resolve('我是')
                    // rejct() //展开这个证明，Promise.all().then的执行特点
                }, 1001);
            })
        }
        let p4 = function () {
            return new Promise((resolve, rejct) => {
                setTimeout(() => {
                    resolve('谁')
                }, 500);
            })
        }

        let p5 = function () {
            return new Promise((resolve, rejct) => {
                setTimeout(() => {
                    resolve('你好')
                }, 1000);
            })
        }

        let p6 = function () {
            return new Promise((resolve, rejct) => {
                setTimeout(() => {
                    resolve('我是')
                    // rejct() //展开这个证明，Promise.all().then的执行特点
                }, 1001);
            })
        }
        let p3 = function () {
            return new Promise((resolve, rejct) => {
                setTimeout(() => {
                    resolve('谁')
                }, 500);
            })
        }
        let tast = [p1(),p2(),p3(),p4(),p5(),p6()];
        // 为了防止低版本浏览器丢包
        // 多数组进行分片处理

        let arr = []
        let len = Math.ceil(tast.length/3); // 向上取整
        var j = 0;
        for(let i =0;i<len;i++){
            let res = [];
            for(var j= j*i;j<3*(i+1);j++){
                res.push(tast[j])
            }
            arr.push(res)
        }

        console.log(arr);
        arr.forEach(item=>{
            Promise.all(item)
        })
    </script>
</body>

</html>